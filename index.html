<!DOCTYPE html>
<html id="ng-app" ng-app="UrbanBingeApp">
<head>
    <!--[if lte IE 8]>
    <script>
        document.createElement('ng-include');
        document.createElement('ng-pluralize');
        document.createElement('ng-view');

        // Optionally these for CSS
        document.createElement('ng:include');
        document.createElement('ng:pluralize');
        document.createElement('ng:view');
    </script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="css/bootstrap-datepicker.css"/>
    <link type="text/css" rel="stylesheet" href="css/bootstrap-timepicker.css"/>
    <link type="text/css" rel="stylesheet" href="css/addevent.css"/>
    <link type="text/css" rel="stylesheet" href="css/font-awesome/css/font-awesome.css">
    <link type="text/css" rel="stylesheet" href="css/style.css"/>
    <link type="text/css" rel="stylesheet" href="css/menu.css"/>
    <link type="text/css" rel="stylesheet" href="css/events.css"/>
    <link type="text/css" rel="stylesheet" href="css/addas.css"/>
    <link type="text/css" rel="stylesheet" href="css/icons.css"/>
    <link type="text/css" rel="stylesheet" href="css/misc.css"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/>
    <link href='http://fonts.googleapis.com/css?family=Patrick+Hand' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Andika' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Arvo' rel='stylesheet' type='text/css'>
    <link type="text/css" rel="stylesheet" href="css/colorbox.css"/>

    <!-- Prologue for stuff before everything -->

    <!-- External Libraries and frameworks -->
    <script type="text/javascript" src="scripts/lib/jquery-1.10.2.js"></script>
    <script type="text/javascript" src="scripts/lib/sylvester.min.js"></script>
    <script type="text/javascript" src="scripts/lib/underscore.js"></script>
    <script type="text/javascript" src="scripts/lib/bootstrap-2.3.1.min.js"></script>
    <script type="text/javascript" src="scripts/lib/angular.js"></script>
    <script type="text/javascript" src="scripts/lib/angular-resource.js"></script>
    <script type="text/javascript" src="scripts/lib/angular-route.js"></script>
    <script type="text/javascript" src="scripts/lib/angular-cookies.js"></script>
    <script type="text/javascript" src="scripts/lib/angular-animate.js"></script>
    <script type="text/javascript" src="scripts/lib/bootstrap-datepicker.js"></script>
    <script type="text/javascript" src="scripts/lib/bootstrap-timepicker.js"></script>
    <script type="text/javascript" src="scripts/lib/elastic.js"></script>
    <script type="text/javascript" src="scripts/lib/angular-strap.js"></script>
    <script type="text/javascript" src="scripts/lib/elastic-angular-client.js"></script>
    <script type="text/javascript" src="scripts/lib/fileupload/jquery.ui.widget.js"></script>
    <script type="text/javascript" src="scripts/lib/fileupload/jquery.fileupload.js"></script>
    <script type="text/javascript" src="scripts/lib/fileupload/jquery.fileupload-process.js"></script>
    <script type="text/javascript" src="scripts/lib/fileupload/jquery.fileupload-angular.js"></script>
    <script src="http://maps.googleapis.com/maps/api/js?sensor=false&language=en"></script>
    <script type="text/javascript" src="scripts/lib/angular-google-maps.js"></script>
    <script type="text/javascript" src="scripts/lib/masonry.pkgd.js"></script>
    <script type="text/javascript" src="scripts/lib/angular-masonry.js"></script>
    <script type="text/javascript" src="scripts/lib/imagesloaded.pkgd.min.js"></script>
    <script type="text/javascript" src="scripts/lib/ui-bootstrap-tpls-0.10.0.js"></script>
    <script type="text/javascript" src="scripts/lib/angular-sanitize.min.js"></script>
    <script type="text/javascript" src="scripts/lib/textAngular.min.js"></script>
    <script type="text/javascript" src="scripts/lib/jquery.colorbox-min.js"></script>

    <!-- App Components -->
    <script type="text/javascript" src="scripts/config.js"></script>
    <script type="text/javascript" src="scripts/types.js"></script>
    <script type="text/javascript" src="scripts/ubapi.js"></script>
    <script type="text/javascript" src="scripts/menu.js"></script>
    <script type="text/javascript" src="scripts/events.js"></script>
    <script type="text/javascript" src="scripts/utils.js"></script>
    <script type="text/javascript" src="scripts/organizer.js"></script>
    <script type="text/javascript" src="scripts/security.js"></script>
    <script type="text/javascript" src="scripts/adda.js"></script>
    <script type="text/javascript" src="scripts/addaview.js"></script>
    <script type="text/javascript" src="scripts/app.js"></script>
    <script type="text/javascript" src="scripts/userprofile.js"></script>
    <script type="text/javascript" src="scripts/organizerprofile.js"></script>
    <script type="text/javascript" src="scripts/organizertheme.js"></script>
    <script type="text/javascript" src="scripts/login.js"></script>
    <!-- Incorporate the app controller -->
    <script type="text/javascript" src="scripts/app.js"></script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-44428069-1', 'urbanbinge.com');
    </script>

    <!-- Epilogue stays at the end -->
    <!-- Place this asynchronous JavaScript just before your </body> tag -->
    <script type="text/javascript">
        (function () {
            var po = document.createElement('script');
            po.type = 'text/javascript';
            po.async = true;
            po.src = 'https://apis.google.com/js/client:plusone.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(po, s);
        })();
    </script>
</head>
<body orient="landscape">
<div id="fb-root"></div>
<script>
    window.fbAsyncInit = function () {
        FB.init({
            appId: '451867828268139', // App ID
            channelUrl: '//WWW.URBANBINGE.COM/html/fbchannel.html', // Channel File
            status: true, // check login status
            cookie: true, // enable cookies to allow the server to access the session
            xfbml: true  // parse XFBML
        });

        // Here we subscribe to the auth.authResponseChange JavaScript event. This event is fired
        // for any authentication related change, such as login, logout or session refresh. This means that
        // whenever someone who was previously logged out tries to log in again, the correct case below
        // will be handled.
        FB.Event.subscribe('auth.authResponseChange', function (response) {
            // Here we specify what we do with the response anytime this event occurs.
            if (response.status === 'connected') {
                // The response object is returned with a status field that lets the app know the current
                // login status of the person. In this case, we're handling the situation where they
                // have logged in to the app.
                testAPI();
            } else if (response.status === 'not_authorized') {
                // In this case, the person is logged into Facebook, but not into the app, so we call
                // FB.login() to prompt them to do so.
                // In real-life usage, you wouldn't want to immediately prompt someone to login
                // like this, for two reasons:
                // (1) JavaScript created popup windows are blocked by most browsers unless they
                // result from direct interaction from people using the app (such as a mouse click)
                // (2) it is a bad experience to be continually prompted to login upon page load.
                FB.login();
            } else {
                // In this case, the person is not logged into Facebook, so we call the login()
                // function to prompt them to do so. Note that at this stage there is no indication
                // of whether they are logged into the app. If they aren't then they'll see the Login
                // dialog right after they log in to Facebook.
                // The same caveats as above apply to the FB.login() call here.
                FB.login();
            }
        });
    };

    (function (d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s);
        js.id = id;
        js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=334609966683751";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
    // Here we run a very simple test of the Graph API after login is successful.
    // This testAPI() function is only called in those cases.
    function testAPI() {
        console.log('Welcome!  Fetching your information.... ');
        FB.api('/me', function (response) {
            console.log('Good to see you, ' + response.name + '.');
        });
    }
    // Google sign-in
    function signinCallback(authResult) {
        if (authResult['access_token']) {
            // Update the app to reflect a signed in user
            // Hide the sign-in button now that the user is authorized, for example:
            document.getElementById('signinButton').setAttribute('style', 'display: none');
        } else if (authResult['error']) {
            // Update the app to reflect a signed out user
            // Possible error values:
            //   "user_signed_out" - User is signed-out
            //   "access_denied" - User denied access to your app
            //   "immediate_failed" - Could not automatically log in the user
            console.log('Sign-in state: ' + authResult['error']);
        }
    }
</script>

<div class="topmenu">
    <ub-top-menu slist-active="slist_active"
                 active-city="active_city"
            >
    </ub-top-menu>
</div>

<div ng-view></div>

<div class="bottom_menu">
    <ub-bottom-menu>
    </ub-bottom-menu>
</div>

</body>
</html>
